(function(c,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(c=typeof globalThis<"u"?globalThis:c||self,e(c["ui-com"]={},c.Vue))})(this,function(c,e){"use strict";const y=(l,t)=>{const a=l.__vccOpts||l;for(const[f,r]of t)a[f]=r;return a},d={name:"ADialogForm",props:{title:{type:String,default:"新增"},width:{type:String,default:"800px"},form:{type:Object,default:()=>({})},formItems:{type:Array,default:()=>[]},rules:{type:Object,default:()=>({})},showConfirm:{type:Boolean,default:!0},type:{type:String,default:"col-1",validator:l=>["col-1","col-2"].includes(l)},height:{type:String,default:"auto"},modelValue:{type:Boolean,default:!1}},data(){return{dialogVisible:!1,localForm:{}}},computed:{groupedFormItems(){const l=[];let t=[];for(const a of this.formItems)a.type==="label"?(t.length>0&&(l.push({type:"group",content:t}),t=[]),l.push({type:"label",content:a})):(t.push(a),t.length===2&&this.type==="col-2"&&(l.push({type:"group",content:t}),t=[]));return t.length>0&&l.push({type:"group",content:t}),l},bgColor(){return this.$store.state.settings.theme||"#4770A4"}},watch:{form:{deep:!0,handler(l){this.localForm={...l}}}},mounted(){this.localForm={...this.form},console.log(this.localForm),this.dialogVisible=this.modelValue},methods:{handleClose(){this.$emit("cancel"),this.dialogVisible=!1},handleConfirm(){this.$refs.formRef.validate(l=>{l&&(this.$emit("confirm",this.localForm),this.handleClose())})},handleCheckboxChange(l){this.localForm.qualification=l?[l]:[]}}},m=()=>{e.useCssVars(l=>({"2c3364e4":l.defaultHeight}))},h=d.setup;d.setup=h?(l,t)=>(m(),h(l,t)):m;const C={style:{width:"100%",display:"flex","align-items":"center"}},V={style:{"font-weight":"bold"}},b={class:"p-[20px]"},B={key:0,slot:"footer","lot-scope":"footer",class:"dialog-footer"};function u(l,t,a,f,r,s){const w=e.resolveComponent("el-input"),k=e.resolveComponent("el-checkbox"),N=e.resolveComponent("el-checkbox-group"),S=e.resolveComponent("el-radio"),E=e.resolveComponent("el-radio-group"),D=e.resolveComponent("el-option"),U=e.resolveComponent("el-select"),A=e.resolveComponent("el-cascader"),T=e.resolveComponent("el-image"),z=e.resolveComponent("el-form-item"),M=e.resolveComponent("el-col"),j=e.resolveComponent("el-row"),q=e.resolveComponent("el-form"),g=e.resolveComponent("el-button"),L=e.resolveComponent("el-dialog");return e.openBlock(),e.createBlock(L,{visible:r.dialogVisible,title:a.title,width:a.width,"before-close":s.handleClose,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":"",top:"5vh",right:""},{title:e.withCtx(()=>[e.createElementVNode("div",C,[e.createElementVNode("div",{class:"tilte-icon",style:e.normalizeStyle({backgroundColor:s.bgColor})},null,4),e.createElementVNode("div",V,e.toDisplayString(a.title),1)])]),default:e.withCtx(()=>[e.createElementVNode("div",b,[e.renderSlot(l.$slots,"header",{},void 0,!0),e.createVNode(q,{ref:"formRef",class:"mt-[30px] p-x[20px] dialog-form",model:r.localForm,rules:a.rules,"label-width":"auto"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.groupedFormItems,(p,O)=>(e.openBlock(),e.createElementBlock("div",{key:O},[p.type==="label"?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["big-label",p.content.class||""])},e.toDisplayString(p.content.label),3)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createVNode(j,null,{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.content,o=>(e.openBlock(),e.createBlock(M,{key:o.label,span:a.type==="col-1"?24:12},{default:e.withCtx(()=>[(o.isShow&&o.isShow(r.localForm),e.openBlock(),e.createBlock(z,{key:0,label:o.label,prop:o.prop,required:o.required},{default:e.withCtx(()=>[o.type==="input"?(e.openBlock(),e.createBlock(w,e.mergeProps({key:0,style:{"text-align":"right"},modelValue:r.localForm[o.prop],"onUpdate:modelValue":n=>r.localForm[o.prop]=n,modelModifiers:{trim:!0},placeholder:o.placeholder},{ref_for:!0},o.attr),null,16,["modelValue","onUpdate:modelValue","placeholder"])):e.createCommentVNode("",!0),o.type==="checkboxgroup"?(e.openBlock(),e.createBlock(N,{key:1,modelValue:r.localForm[o.prop],"onUpdate:modelValue":n=>r.localForm[o.prop]=n,disabled:o.disabled},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.checkboxes,(n,i)=>(e.openBlock(),e.createBlock(k,{key:i,value:n.value,disabled:o.disabled,onChange:R=>s.handleCheckboxChange(n.value)},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.label),1)]),_:2},1032,["value","disabled","onChange"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):e.createCommentVNode("",!0),o.type==="check"?(e.openBlock(),e.createBlock(k,{key:2,modelValue:r.localForm[o.prop],"onUpdate:modelValue":n=>r.localForm[o.prop]=n,disabled:o.disabled},null,8,["modelValue","onUpdate:modelValue","disabled"])):e.createCommentVNode("",!0),o.type==="radio"?(e.openBlock(),e.createBlock(E,{key:3,modelValue:r.localForm[o.prop],"onUpdate:modelValue":n=>r.localForm[o.prop]=n},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.radioOptions,(n,i)=>(e.openBlock(),e.createBlock(S,{key:i,label:n.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(n.label),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.createCommentVNode("",!0),o.type==="select"?(e.openBlock(),e.createBlock(U,{key:4,modelValue:r.localForm[o.prop],"onUpdate:modelValue":n=>r.localForm[o.prop]=n,placeholder:"请选择",onChange:o.change},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.options,n=>(e.openBlock(),e.createBlock(D,{key:n[o.valueKey||"value"],value:n[o.valueKey||"value"],label:n[o.labelKey||"label"]},{default:e.withCtx(()=>[e.createElementVNode("span",null,e.toDisplayString(n[o.labelKey||"label"]),1)]),_:2},1032,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])):e.createCommentVNode("",!0),o.type==="cascader"?(e.openBlock(),e.createBlock(A,e.mergeProps({key:5,modelValue:r.localForm[o.prop],"onUpdate:modelValue":n=>r.localForm[o.prop]=n,style:{width:"100%"}},{ref_for:!0},o.attr,{placeholder:o.placeholder||"请选择",options:o.options,props:o.props,onChange:o.change}),null,16,["modelValue","onUpdate:modelValue","placeholder","options","props","onChange"])):e.createCommentVNode("",!0),o.type==="image"?(e.openBlock(),e.createBlock(T,{key:6,src:r.localForm[o.prop],style:{width:"100px",height:"100px"},"preview-src-list":[r.localForm[o.prop]]},null,8,["src","preview-src-list"])):e.createCommentVNode("",!0),o.type==="span"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:7},[e.createElementVNode("div",e.mergeProps({class:o.class},{ref_for:!0},o.attr),e.toDisplayString(r.localForm[o.prop]),17),o.customizeModel?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(o.customizeModelClass)},e.toDisplayString(r.localForm[o.customizeModel]),3)):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)]),_:2},1032,["label","prop","required"]))]),_:2},1032,["span"]))),128))]),_:2},1024),e.renderSlot(l.$slots,"formItem",{},void 0,!0)],64))]))),128))]),_:3},8,["model","rules"])]),a.showConfirm?(e.openBlock(),e.createElementBlock("div",B,[e.createVNode(g,{onClick:s.handleClose},{default:e.withCtx(()=>t[0]||(t[0]=[e.createTextVNode("取 消")])),_:1,__:[0]},8,["onClick"]),e.createVNode(g,{type:"primary",onClick:s.handleConfirm},{default:e.withCtx(()=>t[1]||(t[1]=[e.createTextVNode("确 定")])),_:1,__:[1]},8,["onClick"])])):e.createCommentVNode("",!0)]),_:3},8,["visible","title","width","before-close"])}const _=(l=>(l.install=t=>{const a=l.name||l.__name;t.component(a,l)},l))(y(d,[["render",u],["__scopeId","data-v-92ec692f"]])),F=[_],x={install:l=>{F.forEach(t=>{l.component(t.name,t)})}};c.ADialogForm=_,c.default=x,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
